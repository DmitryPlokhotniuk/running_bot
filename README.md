# Беговая Империя - Телеграм-бот для отслеживания пробежек

Бот "Беговая Империя" - это помощник для бегунов, который позволяет отслеживать прогресс тренировок, получать мотивационные сообщения и достигать новых высот в беговом мастерстве.

## Функциональность

- **Отслеживание пробежек**: записывайте свои ежедневные пробежки с помощью команды `/run`
- **Система рангов**: получайте ранги в зависимости от количества набеганных километров в неделю
- **Статистика**: просматривайте детальную статистику своих пробежек
- **Мотивация**: получайте мотивационные сообщения и задания для поддержания интереса к бегу
- **Еженедельные отчеты**: бот автоматически отправляет отчет о вашем прогрессе за неделю
- **Сохранение данных**: все данные сохраняются в SQLite базе данных и доступны между перезапусками

## Система рангов

- **Падуан** (0-10 км в неделю)
- **Рыцарь-джедай** (11-30 км в неделю)
- **Мастер-джедай** (31-50 км в неделю)
- **Ситх** (51-70 км в неделю)
- **Лорд Ситхов** (71+ км в неделю)

## Установка и запуск

### Требования

- Python 3.7 или выше
- Установленные зависимости из файла `requirements.txt`

### Шаги по установке

1. Клонируйте репозиторий:
```bash
git clone <url-репозитория>
cd running_bot
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` в корне проекта и добавьте токен вашего бота:
```
BOT_TOKEN=your_bot_token_here
```

4. Запустите бота:
```bash
python bot.py
```

## Команды бота

- `/start` - Начать использование бота
- `/run [км]` - Записать пробежку (например: `/run 5.2`)
- `/stats` - Посмотреть текущую статистику
- `/challenge` - Получить дополнительное задание
- `/help` - Показать справку по командам

## Управление базой данных

Бот использует SQLite для хранения данных о пользователях и их пробежках. Для управления базой данных предусмотрен специальный скрипт `db_admin.py`:

- `python db_admin.py list` - Показать список всех пользователей
- `python db_admin.py stats USER_ID` - Показать статистику конкретного пользователя
- `python db_admin.py clear USER_ID` - Удалить все пробежки пользователя
- `python db_admin.py delete USER_ID` - Полностью удалить пользователя из базы данных
- `python db_admin.py backup` - Создать резервную копию базы данных

Для просмотра структуры и содержимого базы данных можно использовать скрипт `view_db.py`:
```bash
python view_db.py
```

## Структура проекта

- `bot.py` - основной файл бота
- `config.py` - конфигурация и загрузка переменных окружения
- `database.py` - функции для работы с базой данных SQLite
- `ranks.py` - логика работы с системой рангов и заданиями
- `messages.py` - шаблоны сообщений и мотивационные фразы
- `db_admin.py` - утилита для управления базой данных
- `view_db.py` - скрипт для просмотра структуры и содержимого базы данных
- `running_bot.db` - файл базы данных SQLite

## Лицензия

MIT 